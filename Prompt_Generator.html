<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prompt generator for great copy</title>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Inter, Arial, sans-serif;
      background: #f6f7f9;
      margin: 0;
      padding: 48px;
      color: #1f2937;
    }

    h1 {
      text-align: center;
      margin-bottom: 6px;
      color: #111827;
    }

    h2 {
      text-align: center;
      margin-top: 0;
      font-weight: 500;
      font-size: 16px;
      color: #4b5563;
      margin-bottom: 40px;
    }

    em {
      color: #6b7280;
      font-style: normal;
    }

    .container {
      max-width: 1240px;
      margin: auto;
      padding: 0 32px;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
    }

    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }
      body {
        padding: 20px;
      }
    }

    .card {
      background: white;
      padding: 32px;
      border-radius: 16px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      height: fit-content;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
      color: #374151;
    }

    .field {
      margin-bottom: 24px;
    }

    .hidden {
      display: none;
    }

    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      font-size: 14px;
      box-sizing: border-box;
      transition: border-color 0.2s;
      background-color: #fff;
    }

    input[type="text"]:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #6d28d9;
      box-shadow: 0 0 0 3px rgba(109, 40, 217, 0.1);
    }

    textarea {
      resize: vertical;
      min-height: 100px;
      line-height: 1.5;
      font-family: inherit;
    }

    .warning-note {
      display: block;
      color: #b91c1c;
      font-size: 12px;
      margin-top: 6px;
      background: #fef2f2;
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid #fee2e2;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
    }

    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 400;
      margin-bottom: 0;
      cursor: pointer;
      font-size: 14px;
    }

    .checkbox-group input {
      width: 16px;
      height: 16px;
      accent-color: #6d28d9;
    }

    .output-container {
      position: sticky;
      top: 32px;
    }

    .output {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      padding: 24px;
      border-radius: 12px;
      white-space: pre-wrap;
      font-family: "Menlo", "Monaco", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.6;
      color: #334155;
      min-height: 300px;
      margin-bottom: 16px;
      overflow-x: auto;
    }

    .btn-primary {
      background: #6d28d9;
      color: white;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      padding: 14px 20px;
      cursor: pointer;
      width: 100%;
      font-size: 15px;
      transition: background 0.2s;
    }

    .btn-primary:hover {
      background: #5b21b6;
    }

    .btn-secondary {
      background: #1f2937;
      color: white;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      padding: 14px 20px;
      cursor: pointer;
      width: 100%;
      font-size: 15px;
      transition: background 0.2s;
    }

    .btn-secondary:hover {
      background: #111827;
    }

    footer {
      text-align: center;
      margin-top: 60px;
      color: #9ca3af;
      font-size: 13px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Prompt generator for great copy</h1>
    <h2><em>Your one-stop prompt generator for everything related to copy creation at Qonto</em></h2>

    <div class="grid">

      <!-- FORM -->
      <div class="card">

        <div class="field">
          <label>What do you need help with?</label>
          <select id="useCase" onchange="toggleFields()">
            <option value="writing">Writing</option>
            <option value="localization">Localization</option>
            <option value="quality">Quality check</option>
          </select>
        </div>

        <!-- NEW FIELD: Goal -->
        <div class="field">
          <label>What is the primary goal of this copy?</label>
          <select id="goal">
            <option value="convert">Convert (Drive sign-ups, sales, or actions)</option>
            <option value="educate">Educate (Explain complex topics clearly)</option>
            <option value="inform">Inform (Announce features, updates, or news)</option>
            <option value="engage">Engage (Build brand love & relationship)</option>
            <option value="retain">Retain (Reduce churn, support existing clients)</option>
            <option value="reassure">Reassure (Trust, security, compliance)</option>
          </select>
        </div>

        <div class="field">
          <label>Which language(s) do you need?</label>
          <div class="checkbox-group">
            <label><input type="checkbox" value="FR"> French (FR)</label>
            <label><input type="checkbox" value="DE"> German (DE)</label>
            <label><input type="checkbox" value="EN"> English (US)</label>
            <label><input type="checkbox" value="IT"> Italian (IT)</label>
            <label><input type="checkbox" value="NL"> Dutch (NL)</label>
            <label><input type="checkbox" value="PO"> Portuguese (PT)</label>
            <label><input type="checkbox" value="ES"> Spanish (ES)</label>
          </div>
        </div>

        <!-- MOVED FIELD: Speaker Level -->
        <div class="field">
          <label>Who are you?</label>
          <select id="speakerLevel">
            <option value="native">Native speaker</option>
            <option value="non-native">Non-native speaker</option>
          </select>
        </div>

        <!-- This field hides if Quality Check is selected -->
        <div class="field" id="outputTypeContainer">
          <label>What kind of output do you need?</label>
          <select id="outputType">
            <option value="single">A single best version</option>
            <option value="multiple">Several alternatives</option>
          </select>
        </div>

        <div class="field">
          <label>Where will this copy be used?</label>
          <select id="format" onchange="toggleOtherFormat()">
            <option value="">— Select a format —</option>
            <option value="Blog article">Blog article</option>
            <option value="Customer case study">Customer case study</option>
            <option value="Email">Email</option>
            <option value="FAQ">FAQ</option>
            <option value="Marketing key messages">Marketing key messages</option>
            <option value="Paid ad">Paid ad</option>
            <option value="Push notification">Push notification</option>
            <option value="Website copy">Website copy / Landing page</option>
            <option value="other">Other...</option>
          </select>
          <input type="text" id="otherFormatInput" class="hidden" style="margin-top: 10px;" placeholder="Specify the format (e.g. Video Script, UX Microcopy)...">
        </div>

        <div class="field">
          <label>Characters limit</label>
          <textarea id="limit" placeholder="e.g.&#10;Headline: 50ch&#10;Body: 300ch" style="min-height: 80px;"></textarea>
          <span class="warning-note">⚠️ <strong>Critical:</strong> Be as specific as possible. The bot will strictly adhere to these numbers.</span>
        </div>

        <div class="field">
          <label>Enter your first draft / source copy</label>
          <textarea id="content" placeholder="Paste your copy here" style="min-height: 150px;"></textarea>
        </div>

        <div class="field">
          <label>Anything else that could help?</label>
          <textarea id="extra" placeholder="Tone priority, key terms, previous examples, constraints…"></textarea>
        </div>

        <button class="btn-primary" onclick="generatePrompt()">Generate the prompt</button>
      </div>

      <!-- OUTPUT -->
      <div class="output-container">
        <div class="card" style="display:flex;flex-direction:column; height: 100%;">
          <label>Generated prompt</label>
          <div id="output" class="output"></div>
          <button class="btn-secondary" onclick="copyPrompt()">Copy the prompt</button>
        </div>
      </div>

    </div>

    <footer>By Soline Avrillas ❤️</footer>
  </div>

  <script>
    function toggleFields() {
      const useCase = document.getElementById("useCase").value;
      const outputTypeContainer = document.getElementById("outputTypeContainer");
      
      // Hide Output Type if it is a Quality Check (User wants the best fix, not options usually)
      if (useCase === "quality") {
        outputTypeContainer.classList.add("hidden");
      } else {
        outputTypeContainer.classList.remove("hidden");
      }
    }

    function toggleOtherFormat() {
      const formatSelect = document.getElementById("format");
      const otherInput = document.getElementById("otherFormatInput");
      
      if (formatSelect.value === "other") {
        otherInput.classList.remove("hidden");
        otherInput.focus();
      } else {
        otherInput.classList.add("hidden");
      }
    }

    function generatePrompt() {
      // 1. Gather Data
      const useCase = document.getElementById("useCase").value;
      const goal = document.getElementById("goal").value; // New Field
      const speaker = document.getElementById("speakerLevel").value;
      const outputTypeVal = document.getElementById("outputType").value;
      const formatSelect = document.getElementById("format").value;
      const otherFormat = document.getElementById("otherFormatInput").value;
      const limit = document.getElementById("limit").value;
      const content = document.getElementById("content").value;
      const extra = document.getElementById("extra").value;
      
      // Determine final format string
      let finalFormat = formatSelect === "other" ? otherFormat : formatSelect;

      // Get Languages
      const langs = [...document.querySelectorAll("input[type=checkbox]:checked")]
        .map(cb => cb.value);

      // 2. Bot Selection Logic
      let bots = "";
      if (useCase === "quality") {
        bots = "@QualityGuard";
      } else {
        // If no language selected, default to generic Tolki, otherwise map specific bots
        bots = langs.length > 0 ? langs.map(l => `@${l}_Tolki`).join(" ") : "@Tolki";
      }

      // 3. Goal Instructions Mapping
      const goalInstructions = {
        convert: "Focus on persuasion, strong value propositions, and clear Calls to Action (CTAs). The copy should drive the user to take a specific step immediately.",
        educate: "Focus on clarity, structure, and simplicity. Break down complex concepts into digestible information. Use a helpful and didactic tone.",
        inform: "Focus on factual accuracy, conciseness, and directness. Deliver the news or update efficiently without unnecessary fluff.",
        engage: "Focus on storytelling, brand personality, and building a connection. The tone should be warm, relatable, and typically Qonto.",
        retain: "Focus on empathy, support, and reminding the user of the value they get. The tone should be appreciative and helpful.",
        reassure: "Focus on authority, transparency, and professional reliability. Use calming and confident language to build trust."
      };
      
      const selectedGoalInstruction = goalInstructions[goal] || "Write high-quality copy suitable for the context.";

      // 4. Construct Instructions based on Use Case
      let taskInstruction = "";
      let outputInstruction = "";
      
      if (useCase === "quality") {
        taskInstruction = "Your task is to strictly review and improve the quality of the copy provided below. Focus on grammar, syntax, Qonto tone of voice, and clarity.";
        outputInstruction = "Provide the corrected version followed by a bulleted list of the specific changes made and why.";
      } else if (useCase === "localization") {
        taskInstruction = "Your task is to localize the content below. Do not just translate; adapt the meaning, cultural references, and tone to fit the target market while maintaining the original intent.";
        outputInstruction = outputTypeVal === "single" 
          ? "Provide the single best localized version." 
          : "Provide 2-3 distinct localized options ranging from literal to more creative adaptations.";
      } else {
        taskInstruction = "Your task is to write high-converting, professional copy based on the source material and context provided.";
        outputInstruction = outputTypeVal === "single"
          ? "Provide the single best version."
          : "Provide 3 distinct options (Conservative, Balanced, Creative).";
      }

      // 5. Native Speaker Note
      let speakerContext = "";
      if (speaker === "non-native") {
        speakerContext = "IMPORTANT: I am a non-native speaker. Please pay extra attention to nuance and flow. I trust your judgment—deliver the best possible native-sounding result.";
      } else {
        speakerContext = "I am a native speaker looking for refinement and polish.";
      }

      // 6. Build the Prompt String (Markdown style for better LLM parsing)
      const prompt = `
${bots}

# TASK
${taskInstruction}

# GOAL & APPROACH
${selectedGoalInstruction}

# STRICT CONSTRAINTS
${finalFormat ? `- **Format:** ${finalFormat}` : ""}
${limit ? `- **CHARACTER LIMITS (CRITICAL):**\n  ${limit.replace(/\n/g, "\n  ")}\n  ⚠️ **INSTRUCTION:** strict adherence to these limits is required. Do not exceed them.` : "- **Length:** concise and optimized for the format."}

# CONTEXT & INSTRUCTIONS
${speakerContext}
${outputInstruction}
${extra ? `\n**Additional Guidance:**\n${extra}` : ""}

# SOURCE CONTENT
"""
${content || "[Paste content here]"}
"""
`.trim();

      document.getElementById("output").textContent = prompt;
    }

    function copyPrompt() {
      const text = document.getElementById("output").textContent;
      if (!text) return;
      
      // Modern clipboard API
      if (navigator.clipboard && window.isSecureContext) {
        navigator.clipboard.writeText(text).then(() => {
          const btn = document.querySelector('.btn-secondary');
          const originalText = btn.textContent;
          btn.textContent = "Copied! ✅";
          setTimeout(() => btn.textContent = originalText, 2000);
        });
      } else {
        // Fallback
        const textArea = document.createElement("textarea");
        textArea.value = text;
        textArea.style.position = "fixed";
        textArea.style.left = "-9999px";
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
          document.execCommand('copy');
          alert("Prompt copied!");
        } catch (err) {
          console.error('Unable to copy', err);
        }
        document.body.removeChild(textArea);
      }
    }
  </script>
</body>
</html>
